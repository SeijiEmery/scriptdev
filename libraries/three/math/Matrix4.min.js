THREE={REVISION:"71"};"object"===typeof module&&(module.exports=THREE);void 0===Math.sign&&(Math.sign=function(b){return 0>b?-1:0<b?1:+b});THREE.log=function(){console.log.apply(console,arguments)};THREE.warn=function(){console.warn.apply(console,arguments)};THREE.error=function(){console.error.apply(console,arguments)};THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;
THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;
THREE.MinEquation=103;THREE.MaxEquation=104;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.UVMapping=300;THREE.CubeReflectionMapping=301;THREE.CubeRefractionMapping=302;
THREE.EquirectangularReflectionMapping=303;THREE.EquirectangularRefractionMapping=304;THREE.SphericalReflectionMapping=305;THREE.RepeatWrapping=1E3;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;
THREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.HalfFloatType=1025;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGBEFormat=THREE.RGBAFormat;THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;
THREE.RGBA_S3TC_DXT5_Format=2004;THREE.RGB_PVRTC_4BPPV1_Format=2100;THREE.RGB_PVRTC_2BPPV1_Format=2101;THREE.RGBA_PVRTC_4BPPV1_Format=2102;THREE.RGBA_PVRTC_2BPPV1_Format=2103;
THREE.Projector=function(){THREE.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(b,a){THREE.warn("THREE.Projector: .projectVector() is now vector.project().");b.project(a)};this.unprojectVector=function(b,a){THREE.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");b.unproject(a)};this.pickingRay=function(b,a){THREE.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
THREE.CanvasRenderer=function(){THREE.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&THREE.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(b,a,c,d,f,g,e,h,k,l,m,q,p,r,s,t){var n=this.elements;n[0]=b;n[4]=a;n[8]=c;n[12]=d;n[1]=f;n[5]=g;n[9]=e;n[13]=h;n[2]=k;n[6]=l;n[10]=m;n[14]=q;n[3]=p;n[7]=r;n[11]=s;n[15]=t;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(b){this.elements.set(b.elements);return this},extractPosition:function(b){THREE.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(b)},
copyPosition:function(b){var a=this.elements;b=b.elements;a[12]=b[12];a[13]=b[13];a[14]=b[14];return this},extractBasis:function(b,a,c){var d=this.elements;b.set(d[0],d[1],d[2]);a.set(d[4],d[5],d[6]);c.set(d[8],d[9],d[10]);return this},makeBasis:function(b,a,c){this.set(b.x,a.x,c.x,0,b.y,a.y,c.y,0,b.z,a.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var b=new THREE.Vector3;return function(a){var c=this.elements;a=a.elements;var d=1/b.set(a[0],a[1],a[2]).length(),f=1/b.set(a[4],a[5],a[6]).length(),
g=1/b.set(a[8],a[9],a[10]).length();c[0]=a[0]*d;c[1]=a[1]*d;c[2]=a[2]*d;c[4]=a[4]*f;c[5]=a[5]*f;c[6]=a[6]*f;c[8]=a[8]*g;c[9]=a[9]*g;c[10]=a[10]*g;return this}}(),makeRotationFromEuler:function(b){!1===b instanceof THREE.Euler&&THREE.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var a=this.elements,c=b.x,d=b.y,f=b.z,g=Math.cos(c),c=Math.sin(c),e=Math.cos(d),d=Math.sin(d),h=Math.cos(f),f=Math.sin(f);if("XYZ"===b.order){b=g*h;var k=g*f,
l=c*h,m=c*f;a[0]=e*h;a[4]=-e*f;a[8]=d;a[1]=k+l*d;a[5]=b-m*d;a[9]=-c*e;a[2]=m-b*d;a[6]=l+k*d;a[10]=g*e}else"YXZ"===b.order?(b=e*h,k=e*f,l=d*h,m=d*f,a[0]=b+m*c,a[4]=l*c-k,a[8]=g*d,a[1]=g*f,a[5]=g*h,a[9]=-c,a[2]=k*c-l,a[6]=m+b*c,a[10]=g*e):"ZXY"===b.order?(b=e*h,k=e*f,l=d*h,m=d*f,a[0]=b-m*c,a[4]=-g*f,a[8]=l+k*c,a[1]=k+l*c,a[5]=g*h,a[9]=m-b*c,a[2]=-g*d,a[6]=c,a[10]=g*e):"ZYX"===b.order?(b=g*h,k=g*f,l=c*h,m=c*f,a[0]=e*h,a[4]=l*d-k,a[8]=b*d+m,a[1]=e*f,a[5]=m*d+b,a[9]=k*d-l,a[2]=-d,a[6]=c*e,a[10]=g*e):"YZX"===
b.order?(b=g*e,k=g*d,l=c*e,m=c*d,a[0]=e*h,a[4]=m-b*f,a[8]=l*f+k,a[1]=f,a[5]=g*h,a[9]=-c*h,a[2]=-d*h,a[6]=k*f+l,a[10]=b-m*f):"XZY"===b.order&&(b=g*e,k=g*d,l=c*e,m=c*d,a[0]=e*h,a[4]=-f,a[8]=d*h,a[1]=b*f+m,a[5]=g*h,a[9]=k*f-l,a[2]=l*f-k,a[6]=c*h,a[10]=m*f+b);a[3]=0;a[7]=0;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return this},setRotationFromQuaternion:function(b){THREE.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(b)},
makeRotationFromQuaternion:function(b){var a=this.elements,c=b.x,d=b.y,f=b.z,g=b.w,e=c+c,h=d+d,k=f+f;b=c*e;var l=c*h,c=c*k,m=d*h,d=d*k,f=f*k,e=g*e,h=g*h,g=g*k;a[0]=1-(m+f);a[4]=l-g;a[8]=c+h;a[1]=l+g;a[5]=1-(b+f);a[9]=d-e;a[2]=c-h;a[6]=d+e;a[10]=1-(b+m);a[3]=0;a[7]=0;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return this},lookAt:function(){var b=new THREE.Vector3,a=new THREE.Vector3,c=new THREE.Vector3;return function(d,f,g){var e=this.elements;c.subVectors(d,f).normalize();0===c.length()&&(c.z=1);b.crossVectors(g,
c).normalize();0===b.length()&&(c.x+=1E-4,b.crossVectors(g,c).normalize());a.crossVectors(c,b);e[0]=b.x;e[4]=a.x;e[8]=c.x;e[1]=b.y;e[5]=a.y;e[9]=c.y;e[2]=b.z;e[6]=a.z;e[10]=c.z;return this}}(),multiply:function(b,a){return void 0!==a?(THREE.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(b,a)):this.multiplyMatrices(this,b)},multiplyMatrices:function(b,a){var c=b.elements,d=a.elements,f=this.elements,g=c[0],e=c[4],h=c[8],
k=c[12],l=c[1],m=c[5],q=c[9],p=c[13],r=c[2],s=c[6],t=c[10],n=c[14],u=c[3],v=c[7],w=c[11],c=c[15],x=d[0],y=d[4],z=d[8],A=d[12],B=d[1],C=d[5],D=d[9],E=d[13],F=d[2],G=d[6],H=d[10],I=d[14],J=d[3],K=d[7],L=d[11],d=d[15];f[0]=g*x+e*B+h*F+k*J;f[4]=g*y+e*C+h*G+k*K;f[8]=g*z+e*D+h*H+k*L;f[12]=g*A+e*E+h*I+k*d;f[1]=l*x+m*B+q*F+p*J;f[5]=l*y+m*C+q*G+p*K;f[9]=l*z+m*D+q*H+p*L;f[13]=l*A+m*E+q*I+p*d;f[2]=r*x+s*B+t*F+n*J;f[6]=r*y+s*C+t*G+n*K;f[10]=r*z+s*D+t*H+n*L;f[14]=r*A+s*E+t*I+n*d;f[3]=u*x+v*B+w*F+c*J;f[7]=u*y+
v*C+w*G+c*K;f[11]=u*z+v*D+w*H+c*L;f[15]=u*A+v*E+w*I+c*d;return this},multiplyToArray:function(b,a,c){var d=this.elements;this.multiplyMatrices(b,a);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(b){var a=this.elements;a[0]*=b;a[4]*=b;a[8]*=b;a[12]*=b;a[1]*=b;a[5]*=b;a[9]*=b;a[13]*=b;a[2]*=b;a[6]*=b;a[10]*=b;a[14]*=b;a[3]*=b;a[7]*=b;a[11]*=
b;a[15]*=b;return this},multiplyVector3:function(b){THREE.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");return b.applyProjection(this)},multiplyVector4:function(b){THREE.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return b.applyMatrix4(this)},multiplyVector3Array:function(b){THREE.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");
return this.applyToVector3Array(b)},applyToVector3Array:function(){var b=new THREE.Vector3;return function(a,c,d){void 0===c&&(c=0);void 0===d&&(d=a.length);for(var f=0;f<d;f+=3,c+=3)b.x=a[c],b.y=a[c+1],b.z=a[c+2],b.applyMatrix4(this),a[c]=b.x,a[c+1]=b.y,a[c+2]=b.z;return a}}(),rotateAxis:function(b){THREE.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");b.transformDirection(this)},crossVector:function(b){THREE.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return b.applyMatrix4(this)},determinant:function(){var b=this.elements,a=b[0],c=b[4],d=b[8],f=b[12],g=b[1],e=b[5],h=b[9],k=b[13],l=b[2],m=b[6],q=b[10],p=b[14];return b[3]*(+f*h*m-d*k*m-f*e*q+c*k*q+d*e*p-c*h*p)+b[7]*(+a*h*p-a*k*q+f*g*q-d*g*p+d*k*l-f*h*l)+b[11]*(+a*k*m-a*e*p-f*g*m+c*g*p+f*e*l-c*k*l)+b[15]*(-d*e*l-a*h*m+a*e*q+d*g*m-c*g*q+c*h*l)},transpose:function(){var b=this.elements,a;a=b[1];b[1]=b[4];b[4]=a;a=b[2];b[2]=b[8];b[8]=a;a=b[6];b[6]=b[9];b[9]=a;a=b[3];b[3]=b[12];b[12]=a;a=b[7];b[7]=b[13];
b[13]=a;a=b[11];b[11]=b[14];b[14]=a;return this},flattenToArrayOffset:function(b,a){var c=this.elements;b[a]=c[0];b[a+1]=c[1];b[a+2]=c[2];b[a+3]=c[3];b[a+4]=c[4];b[a+5]=c[5];b[a+6]=c[6];b[a+7]=c[7];b[a+8]=c[8];b[a+9]=c[9];b[a+10]=c[10];b[a+11]=c[11];b[a+12]=c[12];b[a+13]=c[13];b[a+14]=c[14];b[a+15]=c[15];return b},getPosition:function(){var b=new THREE.Vector3;return function(){THREE.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var a=
this.elements;return b.set(a[12],a[13],a[14])}}(),setPosition:function(b){var a=this.elements;a[12]=b.x;a[13]=b.y;a[14]=b.z;return this},getInverse:function(b,a){var c=this.elements,d=b.elements,f=d[0],g=d[4],e=d[8],h=d[12],k=d[1],l=d[5],m=d[9],q=d[13],p=d[2],r=d[6],s=d[10],t=d[14],n=d[3],u=d[7],v=d[11],d=d[15];c[0]=m*t*u-q*s*u+q*r*v-l*t*v-m*r*d+l*s*d;c[4]=h*s*u-e*t*u-h*r*v+g*t*v+e*r*d-g*s*d;c[8]=e*q*u-h*m*u+h*l*v-g*q*v-e*l*d+g*m*d;c[12]=h*m*r-e*q*r-h*l*s+g*q*s+e*l*t-g*m*t;c[1]=q*s*n-m*t*n-q*p*v+
k*t*v+m*p*d-k*s*d;c[5]=e*t*n-h*s*n+h*p*v-f*t*v-e*p*d+f*s*d;c[9]=h*m*n-e*q*n-h*k*v+f*q*v+e*k*d-f*m*d;c[13]=e*q*p-h*m*p+h*k*s-f*q*s-e*k*t+f*m*t;c[2]=l*t*n-q*r*n+q*p*u-k*t*u-l*p*d+k*r*d;c[6]=h*r*n-g*t*n-h*p*u+f*t*u+g*p*d-f*r*d;c[10]=g*q*n-h*l*n+h*k*u-f*q*u-g*k*d+f*l*d;c[14]=h*l*p-g*q*p-h*k*r+f*q*r+g*k*t-f*l*t;c[3]=m*r*n-l*s*n-m*p*u+k*s*u+l*p*v-k*r*v;c[7]=g*s*n-e*r*n+e*p*u-f*s*u-g*p*v+f*r*v;c[11]=e*l*n-g*m*n-e*k*u+f*m*u+g*k*v-f*l*v;c[15]=g*m*p-e*l*p+e*k*r-f*m*r-g*k*s+f*l*s;c=f*c[0]+k*c[4]+p*c[8]+n*c[12];
if(0==c){if(a)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");THREE.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/c);return this},translate:function(b){THREE.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(b){THREE.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(b){THREE.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(b){THREE.error("THREE.Matrix4: .rotateZ() has been removed.")},
rotateByAxis:function(b,a){THREE.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(b){var a=this.elements,c=b.x,d=b.y;b=b.z;a[0]*=c;a[4]*=d;a[8]*=b;a[1]*=c;a[5]*=d;a[9]*=b;a[2]*=c;a[6]*=d;a[10]*=b;a[3]*=c;a[7]*=d;a[11]*=b;return this},getMaxScaleOnAxis:function(){var b=this.elements;return Math.sqrt(Math.max(b[0]*b[0]+b[1]*b[1]+b[2]*b[2],Math.max(b[4]*b[4]+b[5]*b[5]+b[6]*b[6],b[8]*b[8]+b[9]*b[9]+b[10]*b[10])))},makeTranslation:function(b,a,c){this.set(1,0,0,b,0,1,0,a,0,0,1,
c,0,0,0,1);return this},makeRotationX:function(b){var a=Math.cos(b);b=Math.sin(b);this.set(1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1);return this},makeRotationY:function(b){var a=Math.cos(b);b=Math.sin(b);this.set(a,0,b,0,0,1,0,0,-b,0,a,0,0,0,0,1);return this},makeRotationZ:function(b){var a=Math.cos(b);b=Math.sin(b);this.set(a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(b,a){var c=Math.cos(a),d=Math.sin(a),f=1-c,g=b.x,e=b.y,h=b.z,k=f*g,l=f*e;this.set(k*g+c,k*e-d*h,k*h+d*e,0,k*e+
d*h,l*e+c,l*h-d*g,0,k*h-d*e,l*h+d*g,f*h*h+c,0,0,0,0,1);return this},makeScale:function(b,a,c){this.set(b,0,0,0,0,a,0,0,0,0,c,0,0,0,0,1);return this},compose:function(b,a,c){this.makeRotationFromQuaternion(a);this.scale(c);this.setPosition(b);return this},decompose:function(){var b=new THREE.Vector3,a=new THREE.Matrix4;return function(c,d,f){var g=this.elements,e=b.set(g[0],g[1],g[2]).length(),h=b.set(g[4],g[5],g[6]).length(),k=b.set(g[8],g[9],g[10]).length();0>this.determinant()&&(e=-e);c.x=g[12];
c.y=g[13];c.z=g[14];a.elements.set(this.elements);c=1/e;var g=1/h,l=1/k;a.elements[0]*=c;a.elements[1]*=c;a.elements[2]*=c;a.elements[4]*=g;a.elements[5]*=g;a.elements[6]*=g;a.elements[8]*=l;a.elements[9]*=l;a.elements[10]*=l;d.setFromRotationMatrix(a);f.x=e;f.y=h;f.z=k;return this}}(),makeFrustum:function(b,a,c,d,f,g){var e=this.elements;e[0]=2*f/(a-b);e[4]=0;e[8]=(a+b)/(a-b);e[12]=0;e[1]=0;e[5]=2*f/(d-c);e[9]=(d+c)/(d-c);e[13]=0;e[2]=0;e[6]=0;e[10]=-(g+f)/(g-f);e[14]=-2*g*f/(g-f);e[3]=0;e[7]=0;
e[11]=-1;e[15]=0;return this},makePerspective:function(b,a,c,d){b=c*Math.tan(THREE.Math.degToRad(0.5*b));var f=-b;return this.makeFrustum(f*a,b*a,f,b,c,d)},makeOrthographic:function(b,a,c,d,f,g){var e=this.elements,h=a-b,k=c-d,l=g-f;e[0]=2/h;e[4]=0;e[8]=0;e[12]=-((a+b)/h);e[1]=0;e[5]=2/k;e[9]=0;e[13]=-((c+d)/k);e[2]=0;e[6]=0;e[10]=-2/l;e[14]=-((g+f)/l);e[3]=0;e[7]=0;e[11]=0;e[15]=1;return this},fromArray:function(b){this.elements.set(b);return this},toArray:function(){var b=this.elements;return[b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]]},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)}};
